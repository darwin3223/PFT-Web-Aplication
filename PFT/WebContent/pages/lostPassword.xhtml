<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">


	<f:metadata>
		<f:viewAction action="#{gestionUsuario.cargarLostPassword()}"/>
	</f:metadata> 


<h:head>
	<ui:include src="/pages/components/datePicker_Lenguage.xhtml"/>
	<h:outputStylesheet library="css" name="hojaDeEstilos_Login_Registro.css"/>
	<title>Inicio de sesion</title>
</h:head>
<h:body>
	<div class="main">
		<div class="contenedor__todo" >
			<div class="caja__trasera" style="justify-content: flex-end;">
				<div class="caja__trasera-login">
					<h3>¿Ya tenes una cuenta?</h3>
					<p>Inicia sesión para entrar</p>
					<p:button id="btn__iniciar-sesion" class="button" value="Iniciar Sesión" outcome="login"/>
				</div>
			</div> 
			<div class="contenedor__login_register contenedor__register">
				<h:form id="formRegistro" class="formulario__register">
				<p:growl id="growl" showDetail="true" style="z-index: 1;"> <p:autoUpdate></p:autoUpdate> </p:growl>
					<h2>Modificar contraseña</h2>
					
					
					
					<h:panelGroup>
					<p:outputLabel value="Introduce tu correo institucional: " rendered="#{gestionUsuario.recuperarPasswordMailBool}"></p:outputLabel>
					<p:inputText id="mailIns" value="#{gestionUsuario.recuperarPasswordMail}" rendered="#{gestionUsuario.recuperarPasswordMailBool}"></p:inputText>
					
					<p:outputLabel value="Introduce el codigo que te enviamos al correo: " rendered="#{gestionUsuario.recuperarPasswordCodigoBool}"></p:outputLabel>
					<p:inputText id="codigo" value="#{gestionUsuario.recuperarPasswordCodigo}" rendered="#{gestionUsuario.recuperarPasswordCodigoBool}"></p:inputText>
					
					<p:outputLabel value="Contraseña nueva" for="pwd1" rendered="#{gestionUsuario.newPasswordBool}"/>
			  		<p:password id="pwd1" value="#{gestionUsuario.newPassword}" match="pwd2" label="Contraseña" toggleMask="true" validatorMessage="Error, Las contraseñas no coinciden" rendered="#{gestionUsuario.newPasswordBool}" style="margin-top: 0px"/>
			 
			  		<p:outputLabel value="Repetir contraseña" for="pwd2" rendered="#{gestionUsuario.newPasswordBool}"/>
			  		<p:password id="pwd2" value="#{gestionUsuario.newPassword}" toggleMask="true" rendered="#{gestionUsuario.newPasswordBool}" style="margin-top: 0px"/>
					
					
					</h:panelGroup>
					
					
					<p:commandButton action="#{gestionUsuario.recibirMail()}" icon="pi pi-arrow-right" style="margin-left: 300px; margin-top: 30px;" rendered="#{gestionUsuario.recuperarPasswordMailBool}"/>
					<p:commandButton action="#{gestionUsuario.recibirCodigo()}" icon="pi pi-arrow-right" style="margin-left: 300px; margin-top: 30px;" rendered="#{gestionUsuario.recuperarPasswordCodigoBool}"/>
					<p:commandButton action="#{gestionUsuario.cambiarContraseña()}" icon="pi pi-arrow-right" style="margin-left: 300px; margin-top: 30px;" rendered="#{gestionUsuario.newPasswordBool}"/>
				</h:form>
			</div>
		</div>
	</div>

</h:body>
</html>
